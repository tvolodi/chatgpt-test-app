# REQ-006: Multilanguage Support

## 1. Metadata
- **ID**: REQ-006
- **Title**: Multilanguage Support (i18n)
- **Type**: Feature
- **Status**: Implemented
- **Priority**: High
- **Created**: 2025-11-21
- **Updated**: 2025-11-29

## 2. Description

Implement internationalization (i18n) support for the AI-Dala platform, enabling users to view the interface in Russian, English, or Kazakh languages. Users should be able to switch between languages seamlessly, with their preference persisted across sessions.

### User Story
As a user, I want to view the AI-Dala platform in my preferred language (Russian, English, or Kazakh) so that I can understand and interact with the content more effectively.

## 3. Acceptance Criteria

### Language Support
- **AC-1**: Platform supports English (en) as default language
- **AC-2**: Platform supports Russian (ru) language
- **AC-3**: Platform supports Kazakh (kk) language
- **AC-4**: All UI text is translatable (no hardcoded strings)

### Language Switching
- **AC-5**: Language selector is visible in the main navigation
- **AC-6**: User can switch between en/ru/kk languages
- **AC-7**: Language change applies immediately without page reload
- **AC-8**: Selected language persists across sessions (localStorage/cookie)
- **AC-9**: Language preference is saved in user profile (if authenticated)

### Translation Coverage
- **AC-10**: Main landing page is fully translated
- **AC-11**: Login page is fully translated
- **AC-12**: Dashboard and all dashboard pages are fully translated
- **AC-13**: Navigation menus are fully translated
- **AC-14**: Buttons and CTAs are fully translated
- **AC-15**: Error messages are fully translated
- **AC-16**: Form labels and placeholders are fully translated

### URL Structure
- **AC-17**: Language is reflected in URL (e.g., `/en/`, `/ru/`, `/kk/`)
- **AC-18**: Default language (en) can be accessed without prefix
- **AC-19**: Language prefix redirects work correctly

## 4. UI/UX Specifications

### Language Selector

**Location**: Main navigation (header)

**Desktop Design:**
- Dropdown button with current language flag/code
- Shows: "EN", "RU", "KK" or "ğŸ‡¬ğŸ‡§ English", "ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹", "ğŸ‡°ğŸ‡¿ ÒšĞ°Ğ·Ğ°Ò›"
- Dropdown menu with all 3 languages
- Active language highlighted with Electric Blue

**Mobile Design:**
- Compact flag icon or language code
- Tap to show language options

**Styling:**
- Font: Inter, 14px, weight 600
- Color (inactive): #6B7280
- Color (active): #0066FF
- Padding: 8px 12px
- Border radius: 8px
- Dropdown shadow: 0 10px 30px rgba(0, 0, 0, 0.08)

### Language Indicator
- Current language always visible
- Clear visual feedback on selection
- Smooth transition between languages

## 5. Technical Specifications

### i18n Library
**Recommended**: `next-intl` (Next.js 14 App Router compatible)

**Alternative**: `next-i18next` or custom solution

### File Structure
```
web/
â”œâ”€â”€ messages/
â”‚   â”œâ”€â”€ en.json          # English translations
â”‚   â”œâ”€â”€ ru.json          # Russian translations
â”‚   â””â”€â”€ kk.json          # Kazakh translations
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ i18n/
â”‚   â”‚   â”œâ”€â”€ config.ts    # i18n configuration
â”‚   â”‚   â””â”€â”€ request.ts   # Server-side i18n
â”‚   â””â”€â”€ app/
â”‚       â”œâ”€â”€ [locale]/    # Locale-based routing
â”‚       â”‚   â”œâ”€â”€ layout.tsx
â”‚       â”‚   â”œâ”€â”€ page.tsx
â”‚       â”‚   â”œâ”€â”€ login/
â”‚       â”‚   â”œâ”€â”€ dashboard/
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ middleware.ts # Language detection
```

### Translation Keys Structure
```json
{
  "common": {
    "appName": "AI-Dala",
    "home": "Home",
    "login": "Sign in",
    "logout": "Logout",
    "dashboard": "Dashboard"
  },
  "navigation": {
    "news": "News",
    "articles": "Articles",
    "categories": "Categories",
    "tags": "Tags",
    "settings": "Settings"
  },
  "landing": {
    "hero": {
      "title": "Build, launch, and grow with AI-Dala",
      "subtitle": "CMS + AI search + secure auth in one powerful stack",
      "cta": "Start with AI Dala",
      "ctaSecondary": "Join AI master-class"
    }
  },
  "dashboard": {
    "welcome": "Welcome back, {name}!",
    "stats": {
      "news": "News Articles",
      "articles": "Saved Articles",
      "courses": "Courses",
      "achievements": "Achievements"
    }
  }
}
```

### Language Detection Priority
1. URL parameter (`/ru/dashboard`)
2. User profile preference (if authenticated)
3. Cookie/localStorage
4. Browser Accept-Language header
5. Default to English

### Persistence Strategy
- **Unauthenticated**: Cookie + localStorage
- **Authenticated**: User profile + cookie
- **Expiry**: 1 year for cookie

## 6. Translation Guidelines

### English (en)
- Default language
- Professional, clear, concise tone
- American English spelling

### Russian (ru)
- Formal "Ğ²Ñ‹" form for user-facing text
- Professional business tone
- Proper Cyrillic characters

### Kazakh (kk)
- Modern Kazakh (Cyrillic script)
- Professional tone
- Cultural appropriateness for Kazakhstan

### Translation Quality
- All translations must be reviewed by native speakers
- Technical terms should be consistent
- Brand name "AI-Dala" remains unchanged
- Maintain tone and meaning across languages

## 7. Non-Functional Requirements

### Performance
- **NFR-1**: Language switching should be instant (<100ms)
- **NFR-2**: Translation files should be lazy-loaded per route
- **NFR-3**: No flash of untranslated content (FOUC)

### SEO
- **NFR-4**: Each language version has proper `hreflang` tags
- **NFR-5**: Sitemap includes all language variants
- **NFR-6**: Meta tags are translated for each language

### Accessibility
- **NFR-7**: Language selector is keyboard accessible
- **NFR-8**: Screen readers announce language changes
- **NFR-9**: `lang` attribute updates on language change

### Maintainability
- **NFR-10**: Translation keys follow consistent naming convention
- **NFR-11**: Missing translations fall back to English
- **NFR-12**: Translation files are validated (no missing keys)

## 8. Dependencies

- Next.js 14 App Router
- i18n library (next-intl or equivalent)
- All existing pages and components

## 9. Out of Scope

- Right-to-left (RTL) language support (Arabic, Hebrew)
- Content translation (news articles, blog posts)
- Automatic translation (machine translation)
- More than 3 languages
- Date/time localization (future requirement)
- Number/currency formatting (future requirement)

## 10. Implementation Phases

### Phase 1: Setup & Infrastructure
- Install and configure i18n library
- Set up routing structure
- Create translation file templates
- Implement language detection

### Phase 2: Core UI Translation
- Translate navigation components
- Translate main landing page
- Translate login page
- Implement language selector

### Phase 3: Dashboard Translation
- Translate dashboard layout
- Translate all dashboard pages
- Translate sidebar navigation
- Translate empty states

### Phase 4: Polish & Testing
- Complete all translations
- Test language switching
- Verify persistence
- SEO optimization

## 11. Traceability

### Test Cases
- TC-I18N-001: Language selector functionality
- TC-I18N-002: Language persistence
- TC-I18N-003: Translation coverage
- TC-I18N-004: URL routing with locales

### Related Requirements
- REQ-001: Login (translation needed)
- REQ-003: Landing Page (translation needed)
- REQ-004: Dashboard Layout (translation needed)
- REQ-005: Sidebar Navigation (translation needed)

## 12. Translation Checklist

### Pages to Translate
- [x] Main landing page (`/`)
- [x] Login page (`/login`)
- [x] Dashboard home (`/dashboard`)
- [x] News page (`/dashboard/news`)
- [x] Articles page (`/dashboard/articles`)
- [x] Categories page (`/dashboard/categories`)
- [x] Tags page (`/dashboard/tags`)
- [x] Settings page (`/dashboard/settings`)
- [x] Public articles page (`/articles`)

### Components to Translate
- [x] Navigation component
- [x] Dashboard Header
- [x] Dashboard Sidebar
- [x] Dashboard Footer
- [x] Buttons and CTAs
- [x] Form labels
- [ ] Error messages (PARTIAL - needs review)
- [x] Empty states

### Implementation Status
- [x] `next-intl` library configured
- [x] `web/messages/en.json` - Complete
- [x] `web/messages/ru.json` - Complete
- [x] `web/messages/kk.json` - Complete
- [x] URL routing with `[locale]` prefix
- [x] Language switcher component
- [x] Language persistence (cookie)
- [ ] hreflang SEO tags (NOT IMPLEMENTED)
- [ ] Sitemap with language variants (NOT IMPLEMENTED)

## 13. Notes

- Translation files should be reviewed by native speakers before deployment
- Consider hiring professional translators for Kazakh content
- Brand elements (AI-Dala, logo) remain in English
- Technical terms may need transliteration in Kazakh
- Emoji icons (ğŸ , ğŸ“°, etc.) are language-neutral

---

**Status**: Draft  
**Last Updated**: 2025-11-21
