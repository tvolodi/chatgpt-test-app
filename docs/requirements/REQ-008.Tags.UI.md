# DOCUMENT_TYPE: REQUIREMENT
# REQ_ID: REQ-008
# VERSION: 1.0

## 1. Summary

- Title: Tag Management UI
- Type: functional
- Priority: medium
- Status: implemented

## 2. Description

The **Tag Management UI** provides an interface for administrators to manage the lifecycle of Tag entities. It allows users to list, search, create, update, and delete tags, with specific support for localized names as defined in **REQ-007**.

## 3. User Stories

- **US-1**: As an Admin, I want to view a paginated list of tags so that I can see what tags exist in the system.
- **US-2**: As an Admin, I want to filter or search tags by code or name so that I can quickly find specific tags.
- **US-3**: As an Admin, I want to create a new tag, specifying its unique code and names in multiple supported languages (e.g., EN, RU, KK).
- **US-4**: As an Admin, I want to update an existing tag's code or localized names.
- **US-5**: As an Admin, I want to delete a tag (soft delete) so that it is no longer available for assignment, while preserving historical data.

## 4. Functional Requirements

### 4.1. List View
- **FR-1**: Display a table of tags with columns:
  - **Name**: Display the name in the current admin interface language (fallback to default).
  - **Code**: The unique system slug.
  - **Actions**: Edit, Delete buttons.
- **FR-2**: Support server-side pagination (e.g., 10, 20, 50 items per page).
- **FR-3**: Provide a search bar to filter results by `code` (partial match) or `name` (partial match in any language).

### 4.2. Create/Edit Form
- **FR-4**: **Code Field**: Text input. Required. Must be unique.
  - *UX Hint*: Auto-generate slug from the default language name if empty.
- **FR-5**: **Name Field**: Multi-language input support.
  - Provide tabs or separate inputs for each supported system language (e.g., English, Russian, Kazakh).
  - At least one language (Default) is required.
- **FR-6**: **Validation**:
  - Client-side validation for required fields.
  - Server-side validation for unique code (display error if duplicate).

### 4.3. Delete Action
- **FR-7**: Clicking "Delete" must show a confirmation dialog.
- **FR-8**: Upon confirmation, perform a soft delete (API call).
- **FR-9**: Remove the item from the list view upon success.

## 5. Non-Functional Constraints

- **Permissions**: Restricted to users with `ADMIN` or `CONTENT_MANAGER` roles.
- **Responsiveness**: The UI must be usable on desktop and tablet devices.
- **Localization**: The UI labels (e.g., "Add Tag", "Save") must themselves be localized.
- **Style Consistency**: The UI must adhere to the application's common design system (colors, typography, spacing, component library) to ensure a seamless user experience.

## 6. Implementation Status

### Completed Components
- ✅ `TagList` component (`web/src/app/components/tags/TagList.tsx`) - Modern Table Design
- ✅ `TagForm` component (`web/src/app/components/tags/TagForm.tsx`) - Modern Grid Layout
- ✅ List page (`web/src/app/[locale]/dashboard/tags/page.tsx`)
- ✅ Create page (`web/src/app/[locale]/dashboard/tags/create/page.tsx`)
- ✅ Edit page (`web/src/app/[locale]/dashboard/tags/edit/[code]/page.tsx`)
- ✅ Dashboard sidebar navigation updated

### Implementation Notes
- **Styling**: Implemented using Tailwind CSS with modern design patterns (cards, hover effects, badges).
- **Testing**: Fully covered by Real E2E tests (no mocks) and Backend Integration tests.
- **Pagination**: Currently client-side (displays all tags).
- **Search/Filter**: Not yet implemented.
- **Soft Delete**: Hard delete implemented for now (API returns 204).

## 7. UI Specification

> **Design Subsystem Files:**
> - UI Manifest: [`docs/design/pages/UI-REQ-007-tags.json`](../design/pages/UI-REQ-007-tags.json)
> - Components: [`docs/design/components/COMPONENT-REGISTRY.json`](../design/components/COMPONENT-REGISTRY.json)
> - Design Tokens: [`docs/design/tokens/DESIGN-TOKENS.json`](../design/tokens/DESIGN-TOKENS.json)

Refer to the linked JSON files for detailed UI component structure, styling classes, and layout specifications.

## 8. Traceability

- **Parent Requirement**: REQ-007 (Tag Entity)
- **Related ADRs**: ADR-0002 (Database Localization)
- **Related Modules**: MOD-FE-Tags, MOD-BE-Tags
- **Related Tests**: 
  - `web/tests/tags.spec.ts` (Real E2E Tests)
  - `api/internal/modules/tags/repository_integration_test.go` (Backend Integration)
